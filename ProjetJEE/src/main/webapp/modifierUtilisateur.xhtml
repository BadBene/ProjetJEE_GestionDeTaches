<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <head>
        <title>Creation Utilisateur</title>
        <meta name="viewport" content="width=device-width"/>
    </head>
    <body>
        <f:metadata>
            <f:viewParam name="pid" value="#{nouveauUtilisateur.pid}" />
            <f:event type="javax.faces.event.PreRenderComponentEvent" listener="#{nouveauUtilisateur.detailUtilisateur}" />
        </f:metadata>
        
         <h:form>
            <h:panelGrid columns="2">
                <h:outputLabel value="Login"/>
                <h:inputText label="#{nouveauUtilisateur.utilisateur.login}" value="#{nouveauUtilisateur.utilisateur.login}"/>
                <h:outputLabel value="Mot de passe"/>
                <h:inputSecret value="#{nouveauUtilisateur.utilisateur.motDePasse}"/>
                <h:outputLabel value="nom"/>
                <h:inputText value="#{nouveauUtilisateur.utilisateur.nom}"/>
                <h:outputLabel value="prenom"/>
                <h:inputText value="#{nouveauUtilisateur.utilisateur.prenom}"/>
                <h:outputLabel value="email"/>
                <h:inputText value="#{nouveauUtilisateur.utilisateur.email}"/>
                <c:if test="#{nouveauUtilisateur.utilisateurConnecte.role.id eq 1}">
                    <h:outputLabel value="Role"/>
                    
                    <h:selectOneMenu value="#{nouveauUtilisateur.roleModifie}" >
                        <f:selectItem itemLabel="#{nouveauUtilisateur.utilisateur.role.nom}" itemValue="#{nouveauUtilisateur.utilisateur.role.id}"/>
                        <f:selectItems value="#{nouveauUtilisateur.listeRole}" var="r" itemLabel="#{r.nom}" itemValue="#{r.id}" />
                        <f:converter converterId="javax.faces.Long"/>
                    </h:selectOneMenu>
                    
                </c:if>
            </h:panelGrid>  
             <h:commandButton value="Creer votre compte" action="#{nouveauUtilisateur.modifierUtilisateur}"/>
        </h:form>
       
    </body>
</html>
